<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Alke Wallet</title>
  <!--Bootstrap y CSS-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="CSS/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!--Script JQuery-->
  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>

  <!--Script Lottie Player-->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

</head>
<header>
  <div class="container-fluid">
    <nav class="navbar navbar-light" style="background: linear-gradient(to bottom, #6f42c1 0%, transparent 100%);">
      <div class="container-fluid">
        <!--Animación Moneda-->
        <a class="navbar-brand d-flex align-items-center" href="#">
          <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
            type="module"></script>
          <dotlottie-player src="https://lottie.host/d30e2b8c-0a59-402d-9351-3de4736d305a/WSgwpzFO7c.json"
            background="transparent" speed="1" style="width: 100px; height: 100px;"
            class="d-inline-block align-text-top" loop autoplay></dotlottie-player>
          <h1 id="Alke-Wallet-Header">Alke Wallet</h1>
        </a>
      </div>
    </nav>
  </div>
</header>

<body>
  <main>
    <!--Form para Login-->
    <div class="container-fluid">
      <div class="row">
        <div class="col d-flex flex-column align-items-center justify-content-center" id="Login-div">
          <h2 style="color: #6f42c1;">Login</h2>
          <form id="login-form" action="menu.html">
            <div class="form-group">
              <label for="iniciar-sesion" class="login-label">Iniciar sesión:</label>
              <input type="text" class="form-control" id="iniciar-sesion" placeholder="Ingrese su nombre">
            </div>
            <div class="form-group">
              <label for="contrasena" class="contrasena-label">Contraseña:</label>
              <input type="password" class="form-control" id="contrasena" placeholder="Escriba su contraseña">
            </div>
            <div class="d-flex justify-content-center">
              <button id="boton-login" type="submit" class="btn btn-info">Login</button>
            </div>
          </form>
          <a href="register.html"
            class="col d-flex flex-column align-items-center justify-content-center">¡Unetenos!</a>
          <script>
            function registerUser(username, password) {
              localStorage.setItem(username, JSON.stringify({ password: password, balance: 0 }));
            }
            function checkLogin(username, password) {
              let user = localStorage.getItem(username);
              if (user) {
                user = JSON.parse(user);
                return user.password === password;
              }
              return false;
            }

            function getBalance(username) {
              let user = localStorage.getItem(username);
              if (user) {
                user = JSON.parse(user);
                return user.balance;
              }
              return null;
            }

            function updateBalance(username, amount) {
              let user = localStorage.getItem(username);
              if (user) {
                user = JSON.parse(user);
                user.balance += amount;
                localStorage.setItem(username, JSON.stringify(user));
              }
            }

            document.getElementById('login-form').onsubmit = function (event) {
              event.preventDefault();
              var nombreUsuario = document.getElementById('iniciar-sesion').value;
              var password = document.getElementById('contrasena').value;

              if (checkLogin(nombreUsuario, password)) {
                localStorage.setItem('nombreUsuario', nombreUsuario);
                window.location.href = 'menu.html';
              } else {
                alert('Usuario o contraseña incorrectos');
              }
            };
            $(document).ready(function () {
              $('#iniciar-sesion, #contrasena').focus(function () {
                $(this).prev('label').animate({ opacity: 0 }, 200);
              }).blur(function () {
                $(this).prev('label').animate({ opacity: 1 }, 200);
              });
            });
          </script>

        </div>

  </main>

  <footer>
    <div class="row">
      <div class="col d-flex justify-content-end">
        <img id="FrierenIMG" src="HTML IMG/Frieren_5.svg" class="img-fluid rounded float-end" alt="...">
      </div>
    </div>
  </footer>
</body>

</html>